# 供应链订货系统 - 遗漏功能开发清单

> 本文档记录经过查缺补漏分析后发现的遗漏功能，作为后续开发的详细任务清单
> 
> **创建时间**：2024-12-29
> **分析依据**：ims-development-todolist.md、供应链系统设计文档.md

## 文档说明

### 任务状态
- [ ] 待开始
- [X] 已完成
- [~] 进行中

### 优先级说明
- 🔴 P0 - 核心功能，必须优先完成
- 🟠 P1 - 重要功能，影响业务完整性
- 🟡 P2 - 一般功能，可延后处理
- 🟢 P3 - 扩展功能，后续迭代

---

## 目录

1. [管理员端Web页面](#1-管理员端web页面)
2. [供应商端Web页面](#2-供应商端web页面)
3. [门店端Web页面](#3-门店端web页面)
4. [移动端APP开发](#4-移动端app开发)
5. [共享包开发](#5-共享包开发)
6. [测试与文档](#6-测试与文档)

---

## 1. 管理员端Web页面

> **路径**：`apps/web/src/pages/admin/`
> **现有页面**：dashboard, materials, orders, stores, suppliers

### 1.1 加价管理模块 🔴

> **目录**：`apps/web/src/pages/admin/markup/`

#### 1.1.1 加价开关管理页面
- [X] 创建 `markup/switches/page.tsx` 页面文件
- [X] 全局总开关组件
  - [X] 开关状态显示
  - [X] 开关切换功能
  - [X] 开关说明文字
- [X] 供应商级开关列表
  - [X] 供应商列表表格
  - [X] 开关状态列
  - [X] 批量开启/关闭按钮
  - [X] 加价收入统计列
- [X] 门店级开关列表
  - [X] 门店列表表格
  - [X] 开关状态列
  - [X] 批量开启/关闭按钮
  - [X] 新店扶持标识
- [X] 分类级开关列表
  - [X] 分类树形展示
  - [X] 开关状态
  - [X] 低毛利分类标识
- [X] 加价收入统计概览卡片
  - [X] 今日加价收入
  - [X] 本月加价收入
  - [X] 加价率统计

#### 1.1.2 加价规则列表页面
- [X] 创建 `markup/rules/page.tsx` 页面文件
- [X] 规则列表表格
  - [X] 规则名称列
  - [X] 门店列（显示名称或"全部"）
  - [X] 供应商列（显示名称或"全部"）
  - [X] 商品列（显示名称或"全部"）
  - [X] 加价方式列（固定/百分比）
  - [X] 加价值列
  - [X] 优先级列
  - [X] 状态列（启用/禁用开关）
  - [X] 操作列（编辑/删除）
- [X] 搜索筛选栏
  - [X] 规则名称搜索
  - [X] 门店筛选
  - [X] 供应商筛选
  - [X] 状态筛选
- [X] 新建规则按钮
- [X] 批量操作（启用/禁用/删除）
- [X] 分页组件

#### 1.1.3 新建/编辑加价规则页面
- [X] 创建 `markup/rules/create/page.tsx` 页面文件
- [X] 创建 `markup/rules/[id]/edit/page.tsx` 页面文件
- [X] 规则表单
  - [X] 规则名称输入框
  - [X] 门店选择器（可选，支持搜索）
  - [X] 供应商选择器（可选，支持搜索）
  - [X] 物料选择器（可选，支持搜索）
  - [X] 加价方式单选（固定金额/百分比）
  - [X] 加价值输入框
  - [X] 最低加价金额输入框（百分比时）
  - [X] 最高加价金额输入框（百分比时）
  - [X] 启用开关
- [X] 优先级自动计算说明区域
- [X] 提交/取消按钮

#### 1.1.4 Excel批量导入规则
- [X] 创建 `markup/import/page.tsx` 页面文件
- [X] 下载模板按钮
- [X] 文件上传区域
- [X] 导入预览表格
- [X] 数据校验结果显示
- [X] 确认导入按钮
- [X] 导入结果展示

#### 1.1.5 加价模拟计算页面
- [X] 创建 `markup/simulate/page.tsx` 页面文件
- [X] 门店选择器
- [X] 供应商选择器
- [X] 商品选择器
- [X] 原价输入框
- [X] 计算按钮
- [X] 计算结果展示区域
  - [X] 匹配的规则信息
  - [X] 规则优先级
  - [X] 加价方式和值
  - [X] 应用原因说明
  - [X] 最终价格
  - [X] 加价金额
  - [X] 加价率

#### 1.1.6 加价收入统计页面
- [X] 创建 `markup/statistics/page.tsx` 页面文件
- [X] 时间范围选择器
- [X] 加价收入趋势图（折线图）
- [X] 按门店加价收入统计表格
- [X] 按供应商加价收入统计表格
- [X] 按商品加价收入统计表格
- [X] 导出报表按钮

---

### 1.2 系统设置模块 🔴

> **目录**：`apps/web/src/pages/admin/settings/`

#### 1.2.1 系统参数配置页面
- [X] 创建 `settings/params/page.tsx` 页面文件
- [X] 订单相关配置区域
  - [X] 门店自主取消时限（order_cancel_threshold）
  - [X] 取消申请超时提醒（order_cancel_request_timeout）
- [X] 支付相关配置区域
  - [X] 支付超时时间（payment_timeout）
  - [X] 支付状态轮询间隔（payment_polling_interval）
  - [X] 未支付订单自动取消时间（unpaid_order_cancel_timeout）
- [X] 费率相关配置区域
  - [X] 支付手续费费率（service_fee_rate）
  - [X] 手续费转嫁开关（service_fee_enabled）
- [X] Webhook相关配置区域
  - [X] 推送重试次数（webhook_retry_times）
  - [X] 重试间隔基数（webhook_retry_interval）
  - [X] 推送超时时间（webhook_timeout）
- [X] 加价相关配置区域
  - [X] 全局加价总开关（markup_global_enabled）
- [X] 其他系统参数区域
  - [X] 购物车过期时间（cart_expire_days）
  - [X] 订单编号前缀（order_no_prefix）
- [X] 保存按钮
- [X] 敏感配置修改需密码确认

#### 1.2.2 支付配置页面（仅主管理员）
- [X] 创建 `settings/payment/page.tsx` 页面文件
- [X] 利楚扫呗配置区域
  - [X] 商户号（merchant_no）输入
  - [X] 终端号（terminal_id）输入
  - [X] 签名令牌（access_token）输入（加密显示）
  - [X] 支付回调地址（notify_url）配置
- [X] 微信支付配置区域
  - [X] 商户号输入
  - [X] API密钥输入
  - [X] 证书文件上传
- [X] 支付宝支付配置区域
  - [X] 应用ID输入
  - [X] 公钥/私钥配置
- [X] 配置测试按钮
- [X] 保存按钮

#### 1.2.3 API配置页面（仅主管理员）
- [X] 创建 `settings/api/page.tsx` 页面文件
- [X] 供应商API对接配置列表
- [X] 全局API密钥管理
- [X] 推送地址配置

#### 1.2.4 送货单模板配置页面
- [X] 创建 `settings/print-templates/page.tsx` 页面文件
- [X] 模板列表表格
- [X] 创建模板按钮
- [X] 模板编辑器
  - [X] 模板名称
  - [X] 模板内容（支持变量插入）
  - [X] 预览功能
- [X] 为供应商分配模板

#### 1.2.5 操作日志页面
- [X] 创建 `settings/logs/page.tsx` 页面文件
- [X] 日志列表表格
  - [X] 操作时间
  - [X] 操作用户
  - [X] 用户类型
  - [X] 模块名称
  - [X] 操作类型
  - [X] 操作描述
  - [X] IP地址
- [X] 筛选栏
  - [X] 用户筛选
  - [X] 模块筛选
  - [X] 时间范围
  - [X] 操作类型筛选
- [X] 日志详情弹窗（显示操作前后数据）
- [X] 导出按钮

---

### 1.3 管理员管理模块 🔴

> **目录**：`apps/web/src/pages/admin/admins/`
> **权限**：仅主管理员可访问

#### 1.3.1 管理员列表页面
- [X] 创建 `admins/page.tsx` 页面文件
- [X] 管理员列表表格
  - [X] 姓名列
  - [X] 账号列
  - [X] 角色类型列（主管理员标识）
  - [X] 权限列（权限标签展示）
  - [X] 创建时间列
  - [X] 状态列（启用/禁用）
  - [X] 操作列（编辑/禁用/重置密码）
- [X] 创建子管理员按钮
- [X] 搜索框

#### 1.3.2 创建子管理员页面
- [X] 创建 `admins/create/page.tsx` 页面文件
- [X] 基本信息表单
  - [X] 姓名输入框
  - [X] 账号输入框
  - [X] 密码输入框
  - [X] 确认密码输入框
  - [X] 手机号输入框（可选）
- [X] 权限分配区域
  - [X] 权限列表（多选框）
  - [X] 权限分组展示
  - [X] 敏感权限禁止选择提示
- [X] 提交/取消按钮

#### 1.3.3 编辑子管理员页面
- [X] 创建 `admins/[id]/edit/page.tsx` 页面文件
- [X] 基本信息编辑
- [X] 权限调整
- [X] 重置密码按钮
- [X] 启用/禁用按钮

---

### 1.4 配送设置审核模块 🟠

> **目录**：`apps/web/src/pages/admin/delivery-audit/`

#### 1.4.1 待审核列表页面
- [X] 创建 `delivery-audit/page.tsx` 页面文件
- [X] 待审核数量Badge显示
- [X] 审核列表表格
  - [X] 供应商名称列
  - [X] 变更类型列（起送价/配送日/配送区域）
  - [X] 原值列
  - [X] 新值列
  - [X] 提交时间列
  - [X] 状态列
  - [X] 操作列（通过/驳回）
- [X] 状态筛选（待审核/已通过/已驳回）
- [X] 时间范围筛选

#### 1.4.2 审核详情弹窗
- [X] 变更详情展示
- [X] 原值与新值对比
- [X] 审核通过按钮
- [X] 审核驳回按钮（需填写原因）
- [X] 审核历史记录展示

---

### 1.5 产品审核模块 🟠

> **目录**：`apps/web/src/pages/admin/product-audit/`

#### 1.5.1 待审核产品列表页面
- [X] 创建 `product-audit/page.tsx` 页面文件
- [X] 待审核数量Badge显示
- [X] 产品列表表格
  - [X] 产品名称列
  - [X] 品牌列
  - [X] 规格列
  - [X] 价格列
  - [X] 供应商列
  - [X] 提交时间列
  - [X] 状态列
  - [X] 操作列
- [X] 状态筛选（待审核/已通过/已驳回）
- [X] 供应商筛选
- [X] 时间范围筛选
- [X] 批量审核按钮

#### 1.5.2 审核详情页面
- [X] 创建 `product-audit/[id]/page.tsx` 页面文件
- [X] 产品信息展示
- [X] 品牌信息核实区域
  - [X] 品牌名称
  - [X] 是否新品牌标识
- [X] 规格信息核实区域
  - [X] 规格描述
  - [X] 单位
  - [X] 包装规格
- [X] 价格合理性检查区域
  - [X] 历史价格对比
  - [X] 同品牌同规格对比
  - [X] 市场均价对比
  - [X] 价格波动预警
- [X] 图片匹配检查区域
  - [X] 自动匹配结果
  - [X] 手动调整图片
  - [X] 图片预览
- [X] 产品信息完整性检查
- [X] 审核通过/驳回按钮
- [X] 驳回原因输入框

---

### 1.6 素材库管理模块 🟡

> **目录**：`apps/web/src/pages/admin/media/`

#### 1.6.1 图片素材库页面
- [X] 创建 `media/page.tsx` 页面文件
- [X] 图片网格展示
- [X] 分类筛选侧边栏
- [X] 品牌筛选
- [X] 图片搜索（名称、标签、SKU）
- [X] 批量上传按钮
- [X] 拖拽上传区域
- [X] 图片操作
  - [X] 查看大图
  - [X] 编辑信息
  - [X] 删除
- [X] 图片信息编辑弹窗
  - [X] 名称
  - [X] 分类
  - [X] 品牌
  - [X] 规格
  - [X] 标签管理
  - [X] SKU编码关联

#### 1.6.2 图片匹配规则配置页面
- [X] 创建 `media/match-rules/page.tsx` 页面文件
- [X] 自动匹配开关
- [X] 匹配规则列表
  - [X] 规则类型（名称/品牌/SKU/关键词）
  - [X] 匹配模式
  - [X] 相似度阈值
  - [X] 优先级
  - [X] 启用状态
- [X] 新建规则按钮
- [X] 规则编辑弹窗
- [X] 手动匹配入口
- [X] 批量匹配功能
- [X] 匹配结果预览

---

### 1.7 市场行情监控模块 🟡

> **目录**：`apps/web/src/pages/admin/market/`

#### 1.7.1 全局价格监控页面
- [X] 创建 `market/page.tsx` 页面文件
- [X] 市场行情仪表盘
  - [X] 今日价格变动统计
  - [X] 价格异常预警数
  - [X] 独家供应产品数
  - [X] 新增产品数
- [X] 区域筛选
- [X] 分类筛选
- [X] 产品搜索
- [X] 数据统计卡片
  - [X] 在售产品总数
  - [X] 活跃供应商数量
  - [X] 价格异常数量
  - [X] 独家供应产品数量
  - [X] 平均加价率

#### 1.7.2 产品价格对比表
- [X] 产品列表表格
  - [X] 产品名称
  - [X] 品牌
  - [X] 规格
  - [X] 供应商数量
  - [X] 最低价
  - [X] 最高价
  - [X] 价差率
  - [X] 平均加价率
- [X] 供应商报价详情展开
- [X] 最低价标识（绿色）
- [X] 价格偏高预警标识（红色）
- [X] 独家供应标识
- [X] 导出Excel按钮

#### 1.7.3 价格预警管理页面
- [X] 创建 `market/alerts/page.tsx` 页面文件
- [X] 价格异常预警列表
- [X] 独家供应产品列表
- [X] 价格趋势分析图表

---

### 1.8 数据汇总报表模块 🟡

> **目录**：`apps/web/src/pages/admin/reports/`

#### 1.8.1 按门店汇总页面
- [X] 创建 `reports/stores/page.tsx` 页面文件
- [X] 门店订货汇总表格
  - [X] 门店名称
  - [X] 订货金额
  - [X] 订单数
  - [X] 常购物料
- [X] 门店详情钻取
- [X] 时间范围筛选
- [X] 导出报表按钮

#### 1.8.2 按供应商汇总页面
- [X] 创建 `reports/suppliers/page.tsx` 页面文件
- [X] 供应商销售汇总表格
  - [X] 供应商名称
  - [X] 销售金额
  - [X] 订单数
  - [X] 热销物料
- [X] 供应商详情钻取
- [X] 时间范围筛选
- [X] 导出报表按钮

#### 1.8.3 按物料汇总页面
- [X] 创建 `reports/materials/page.tsx` 页面文件
- [X] 物料销售汇总表格
  - [X] 物料名称
  - [X] 销量
  - [X] 销售额
  - [X] 采购门店数
- [X] 分类筛选
- [X] 时间范围筛选
- [X] 导出报表按钮

#### 1.8.4 对比分析页面
- [X] 创建 `reports/analysis/page.tsx` 页面文件
- [X] 同比/环比分析图表
- [X] 门店订货排名变化
- [X] 供应商销售排名变化
- [X] 图表可视化

---

### 1.9 Webhook日志模块 🟢

> **目录**：`apps/web/src/pages/admin/webhook-logs/`

#### 1.9.1 推送日志列表页面
- [X] 创建 `webhook-logs/page.tsx` 页面文件
- [X] 日志列表表格
  - [X] 推送时间
  - [X] 目标类型（门店/供应商）
  - [X] 目标名称
  - [X] 事件类型
  - [X] 关联订单
  - [X] 推送状态
  - [X] 响应状态码
  - [X] 耗时
- [X] 筛选栏
  - [X] 目标类型
  - [X] 事件类型
  - [X] 推送状态
  - [X] 时间范围
- [X] 日志详情弹窗
  - [X] 请求头
  - [X] 请求体
  - [X] 响应内容
  - [X] 重试记录
- [X] 推送统计信息
  - [X] 成功率
  - [X] 平均耗时

---

## 2. 供应商端Web页面

> **路径**：`apps/web/src/pages/supplier/`
> **现有页面**：dashboard, orders
### 2.1 物料价格管理模块 🔴

> **目录**：`apps/web/src/pages/supplier/materials/`

#### 2.1.1 物料价格列表页面
- [X] 创建 `materials/page.tsx` 页面文件
- [X] 物料价格列表表格
  - [X] 物料名称列
  - [X] 品牌列
  - [X] 规格列
  - [X] 当前价格列
  - [X] 原价列（划线价）
  - [X] 最小起订量列
  - [X] 库存状态列
  - [X] 审核状态列
  - [X] 操作列（编辑价格）
- [X] 搜索框（物料名称/编号）
- [X] 分类筛选
- [X] 库存状态筛选
- [X] 审核状态筛选
- [X] 批量操作按钮

#### 2.1.2 编辑价格弹窗
- [X] 物料信息展示
- [X] 价格输入框
- [X] 原价输入框（可选）
- [X] 最小起订量输入框
- [X] 步进数量输入框
- [X] 保存按钮

#### 2.1.3 库存管理页面
- [X] 创建 `materials/stock/page.tsx` 页面文件
- [X] 库存状态列表
- [X] 快捷切换有货/缺货状态
- [X] 批量设置库存状态

#### 2.1.4 Excel导入导出
- [X] 创建 `materials/import/page.tsx` 页面文件
- [X] 下载导入模板按钮
- [X] 文件上传区域
- [X] 导入预览表格
- [X] 数据校验结果显示
- [X] 确认导入按钮
- [X] 导入结果展示
- [X] 导入历史记录
- [X] 错误日志查看
- [X] 导出当前价格列表

---

### 2.2 配送设置模块 🟠

> **目录**：`apps/web/src/pages/supplier/delivery/`

#### 2.2.1 配送日/起送价设置页面
- [X] 创建 `delivery/page.tsx` 页面文件
- [X] 起送价设置区域
  - [X] 当前起送价显示
  - [X] 起送价输入框
- [X] 配送日设置区域
  - [X] 周一到周日多选框
  - [X] 配送日逻辑说明
- [X] 配送模式选择区域
  - [X] 自配送（self_delivery）
  - [X] 快递配送（express_delivery）
  - [X] 模式说明文字
- [X] 保存设置按钮（提交审核）
- [X] 审核状态显示区域
  - [X] 当前审核状态
  - [X] 待审核提示
  - [X] 审核驳回原因显示

#### 2.2.2 配送区域管理页面
- [X] 创建 `delivery/areas/page.tsx` 页面文件
- [X] 配送区域列表表格
  - [X] 省份列
  - [X] 城市列
  - [X] 区/县列
  - [X] 状态列
  - [X] 操作列（删除）
- [X] 添加配送区域按钮
- [X] 省市区三级选择器弹窗
- [X] 批量导入配送区域
- [X] 保存设置（提交审核）
- [X] 区域匹配逻辑说明

#### 2.2.3 运单管理页面（快递配送模式）
- [X] 创建 `delivery/waybills/page.tsx` 页面文件
- [X] 运单列表表格
  - [X] 运单号
  - [X] 快递公司
  - [X] 关联订单
  - [X] 状态
  - [X] 创建时间
- [X] 上传运单号弹窗
  - [X] 订单选择
  - [X] 快递公司选择
  - [X] 运单号输入
- [X] 物流状态追踪（可选）

---

### 2.3 市场行情模块 🟡

> **目录**：`apps/web/src/pages/supplier/market/`

#### 2.3.1 价格对比概览页面
- [X] 创建 `market/page.tsx` 页面文件
- [X] 市场行情说明提示
- [X] 数据统计卡片
  - [X] 在售产品总数
  - [X] 价格最低产品数量（绿色）
  - [X] 价格偏高产品数量（橙色）
  - [X] 价格持平产品数量
  - [X] 平均价格优势率

#### 2.3.2 产品价格列表
- [X] 分类筛选
- [X] 价格状态筛选（最低/偏高）
- [X] 产品列表表格
  - [X] 产品名称
  - [X] 品牌
  - [X] 规格
  - [X] 您的报价
  - [X] 市场最低价
  - [X] 价差
- [X] 价格最低标识（绿色背景）
- [X] 价格偏高标识（红色背景）
- [X] 快捷调价按钮
- [X] 价格调整建议区域
- [X] 数据更新时间显示
- [X] 刷新数据按钮

---

### 2.4 送货单打印模块 🟠

> **目录**：`apps/web/src/pages/supplier/print/`

#### 2.4.1 送货单打印页面
- [X] 创建 `print/page.tsx` 页面文件
- [X] 订单选择列表（复选框）
- [X] 按日期筛选订单
- [X] 按状态筛选订单
- [X] 全选/取消全选
- [X] 打印预览区域
- [X] 送货单模板展示
- [X] 送货单内容
  - [X] 订单信息
  - [X] 商品明细
  - [X] 收货信息
  - [X] 签收栏
- [X] 批量打印按钮
- [X] 单张打印按钮

---

### 2.5 账户信息模块 🟡

> **目录**：`apps/web/src/pages/supplier/account/`

#### 2.5.1 供应商信息页面
- [X] 创建 `account/page.tsx` 页面文件
- [X] 供应商基本信息展示
  - [X] 供应商名称
  - [X] 供应商编号
  - [X] 联系人姓名
  - [X] 联系电话
- [X] 当前配送设置展示
  - [X] 起送价
  - [X] 配送日
  - [X] 配送区域
  - [X] 配送模式
- [X] 账户状态显示

---

## 3. 门店端Web页面

> **路径**：`apps/web/src/pages/store/`
> **现有页面**：cart, checkout, dashboard, market, materials, orders, reports

### 3.1 账户设置模块 🟡

> **目录**：`apps/web/src/pages/store/account/`

#### 3.1.1 门店信息页面
- [X] 创建 `account/page.tsx` 页面文件
- [X] 门店基本信息展示
  - [X] 门店名称
  - [X] 门店编号
  - [X] 联系人姓名
  - [X] 联系电话
- [X] 收货地址展示（只读，由管理员维护）
  - [X] 省市区
  - [X] 详细地址
  - [X] 联系人
  - [X] 联系电话

---

## 4. 移动端APP开发

> **路径**：`apps/mobile/src/pages/`
> **现有页面**：select-role
> **框架**：Taro 3.x + React

### 4.1 通用模块 🔴

#### 4.1.1 登录模块
- [X] 创建 `login/index.tsx` 页面
- [X] APP启动页/引导页组件
- [X] 登录表单
  - [X] 账号输入框
  - [X] 密码输入框
  - [X] 记住登录状态复选框
  - [X] 登录按钮
- [X] 手机号+验证码登录（可选）
- [X] 演示账号快捷登录（开发测试用）
- [X] 登录成功跳转处理
  - [X] 单角色用户直接跳转
  - [X] 多角色用户跳转角色选择页

#### 4.1.2 版本更新模块
- [X] 创建版本检测服务
- [X] 版本对比逻辑
- [X] 更新提示弹窗组件
- [X] 热更新支持
- [X] 强制更新提示
- [X] 下载新版本APK
- [X] 安装引导

### 4.2 门店端APP 🔴

#### 4.2.1 首页
- [X] 创建 `store/index/index.tsx` 页面
- [X] 顶部导航栏
- [X] 搜索栏组件
- [X] 分类入口网格
  - [X] 粮油
  - [X] 肉禽蛋
  - [X] 蔬菜
  - [X] 调味品
  - [X] 包材等
- [X] 热门物料列表
- [X] 物料卡片组件
  - [X] 物料图片
  - [X] 物料名称
  - [X] 品牌/规格数量提示
  - [X] 起步价显示
  - [X] 点击进入详情

#### 4.2.2 物料列表页
- [X] 创建 `store/materials/index.tsx` 页面
- [X] 分类Tab切换
- [X] 物料搜索
- [X] 物料列表
- [X] 下拉刷新
- [X] 上拉加载更多

#### 4.2.3 物料详情页
- [X] 创建 `store/materials/detail/index.tsx` 页面
- [X] 物料图片展示
- [X] 物料名称
- [X] 品牌选择器（多品牌时）
- [X] 规格选择器（多规格时）
- [X] 供应商报价列表
  - [X] 供应商名称
  - [X] 单价
  - [X] 起送价
  - [X] 起订量
  - [X] 配送日
- [X] 最低价标识
- [X] 选择供应商
- [X] 数量选择器（+/-）
- [X] 起订量校验提示
- [X] 加入购物车按钮
- [X] 加入成功提示

#### 4.2.4 购物车页面
- [X] 创建 `store/cart/index.tsx` 页面
- [X] TabBar入口配置
- [X] 购物车Badge数量显示
- [X] 按供应商分组展示
- [X] 每组显示
  - [X] 供应商名称
  - [X] 起送价
  - [X] 当前小计
- [X] 已达起送价组：绿色边框+可结算标识
- [X] 未达起送价组：红色边框+差额提示
- [X] 商品项
  - [X] 图片
  - [X] 名称
  - [X] 规格
  - [X] 单价
  - [X] 数量
- [X] 数量修改
- [X] 删除商品
- [X] 底部结算栏
  - [X] 可结算金额显示
  - [X] 结算按钮

#### 4.2.5 结算页面
- [X] 创建 `store/checkout/index.tsx` 页面
- [X] 收货地址展示（不可修改）
- [X] 按供应商分组订单预览
- [X] 商品明细
- [X] 预计送达日期
- [X] 备注输入框
- [X] 订单金额汇总
- [X] 服务费显示
- [X] 提交订单按钮

#### 4.2.6 支付页面
- [X] 创建 `store/payment/index.tsx` 页面
- [X] 支付方式选择（微信/支付宝）
- [X] 调起支付SDK
- [X] 支付结果处理
- [X] 支付成功跳转订单详情
- [X] 支付失败提示

#### 4.2.7 订单列表页
- [X] 创建 `store/orders/index.tsx` 页面
- [X] TabBar入口配置
- [X] 顶部状态Tab（全部/待确认/配送中/已完成）
- [X] 订单卡片列表
  - [X] 供应商名称
  - [X] 状态
  - [X] 商品数
  - [X] 金额
  - [X] 服务费
- [X] 下拉刷新
- [X] 上拉加载更多

#### 4.2.8 订单详情页
- [X] 创建 `store/orders/detail/index.tsx` 页面
- [X] 订单状态显示
- [X] 订单基本信息
- [X] 收货信息
- [X] 商品明细
- [X] 金额明细
- [X] 订单操作按钮
  - [X] 再来一单
  - [X] 取消订单（1小时内）
  - [X] 提交取消申请（超1小时）
  - [X] 待付款订单重新支付

#### 4.2.9 市场行情页
- [X] 创建 `store/market/index.tsx` 页面
- [X] TabBar入口配置
- [X] 提示说明
- [X] 产品价格对比卡片列表
- [X] 各供应商报价展示
- [X] 最低价标识
- [X] 快捷加入购物车

#### 4.2.10 个人中心页
- [X] 创建 `store/profile/index.tsx` 页面
- [X] TabBar入口配置
- [X] 门店信息头部
- [X] 数据统计（本月订单、本月消费、供应商数）
- [X] 功能入口列表
  - [X] 收货地址
  - [X] 常购清单
  - [X] 订货统计
  - [X] 设置
- [X] 退出登录按钮

### 4.3 供应商端APP 🟠

#### 4.3.1 首页（订单概览）
- [X] 创建 `supplier/index/index.tsx` 页面
- [X] 数据统计Banner
  - [X] 今日订单金额
  - [X] 待处理订单数
  - [X] 进行中订单数
  - [X] 已完成订单数
- [X] 待处理订单列表
- [X] 快捷操作按钮（确认/配送/详情）

#### 4.3.2 订单列表页
- [X] 创建 `supplier/orders/index.tsx` 页面
- [X] TabBar入口配置
- [X] 顶部状态Tab（待处理/进行中/已完成）
- [X] 订单卡片列表
  - [X] 门店名称
  - [X] 金额
  - [X] 商品数
  - [X] 配送时间
  - [X] 状态
- [X] 下拉刷新
- [X] 上拉加载更多

#### 4.3.3 订单详情页
- [X] 创建 `supplier/orders/detail/index.tsx` 页面
- [X] 订单详情展示
- [X] 门店收货信息
- [X] 商品明细（显示供应商原价）
- [X] 订单金额
- [X] 订单操作
  - [X] 确认订单按钮
  - [X] 开始配送按钮
  - [X] 完成订单按钮

#### 4.3.4 物料价格页
- [X] 创建 `supplier/materials/index.tsx` 页面
- [X] TabBar入口配置
- [X] 物料价格列表
- [X] 搜索物料
- [X] 编辑价格弹窗
- [X] 设置库存状态

#### 4.3.5 个人中心页
- [X] 创建 `supplier/profile/index.tsx` 页面
- [X] TabBar入口配置
- [X] 供应商信息头部
- [X] 今日统计数据
- [X] 功能入口
  - [X] 配送设置查看
  - [X] 设置
- [X] 退出登录按钮

### 4.4 管理员端APP 🟡

#### 4.4.1 首页（数据概览）
- [X] 创建 `admin/index/index.tsx` 页面
- [X] 数据统计Banner
  - [X] 今日订单数/金额
  - [X] 待处理订单数
- [X] 快速操作入口
- [X] 异常订单提醒

#### 4.4.2 订单监控页
- [X] 创建 `admin/orders/index.tsx` 页面
- [X] TabBar入口配置
- [X] 全平台订单列表
- [X] 多维度筛选
- [X] 订单卡片展示
- [X] 订单详情查看

#### 4.4.3 快捷查询页
- [X] 创建 `admin/search/index.tsx` 页面
- [X] 门店信息查询
- [X] 供应商信息查询
- [X] 订单状态查询

#### 4.4.4 个人中心页
- [X] 创建 `admin/profile/index.tsx` 页面
- [X] TabBar入口配置
- [X] 管理员信息
- [X] 关键指标展示
- [X] 设置
- [X] 退出登录

### 4.5 APP消息推送 🟡

- [ ] 集成推送SDK（个推/极光/uni-push）
- [ ] 新订单通知推送
- [ ] 订单状态变更推送
- [ ] 推送点击跳转对应页面
- [ ] 推送开关设置

### 4.6 TabBar配置 🔴

- [X] 门店用户TabBar配置
  - [X] 首页
  - [X] 行情
  - [X] 购物车
  - [X] 订单
  - [X] 我的
- [X] 供应商TabBar配置
  - [X] 首页
  - [X] 订单
  - [X] 价格
  - [X] 我的
- [X] 管理员TabBar配置
  - [X] 首页
  - [X] 订单
  - [X] 门店
  - [X] 供应商
  - [X] 我的

---

## 5. 共享包开发

> **路径**：`packages/`
> **现有包**：utils, constants

### 5.1 共享UI组件库 🟠

> **目录**：`packages/ui/`

#### 5.1.1 项目初始化
- [X] 创建 `packages/ui/` 目录
- [X] 初始化 `package.json`
- [X] 配置 TypeScript
- [X] 配置构建脚本

#### 5.1.2 基础组件
- [X] SButton 统一按钮组件
  - [X] 基于Ant Design Button封装
  - [X] 防重复点击（内置debounce）
  - [X] 支持主题色配置
- [X] SInput 输入框组件
- [X] SSelect 选择器组件
- [X] SDatePicker 日期选择器组件
- [X] SNumberInput 数字输入框组件
- [X] SForm 表单组件

#### 5.1.3 数据展示组件
- [X] STable 表格组件
  - [X] 列配置化
  - [X] 内置分页
  - [X] 排序支持
  - [X] 行选择
  - [X] 数据导出
- [X] SModal 弹窗组件
- [X] SDrawer 抽屉组件
- [X] SConfirm 确认对话框

#### 5.1.4 反馈组件
- [X] SToast 轻提示组件
- [X] SNotification 通知组件
- [X] SLoading 加载组件
- [X] SSkeleton 骨架屏组件
- [X] SEmpty 空状态组件

#### 5.1.5 上传组件
- [X] SImageUpload 图片上传组件
- [X] SFileUpload 文件上传组件

### 5.2 API客户端封装 🟡

> **目录**：`packages/api-client/`

#### 5.2.1 项目初始化
- [X] 创建 `packages/api-client/` 目录
- [X] 初始化 `package.json`
- [X] 配置 TypeScript

#### 5.2.2 核心功能
- [X] 请求/响应拦截器
- [X] 统一错误处理
- [X] Token自动刷新
- [X] 请求重试机制
- [X] 接口loading状态管理
- [X] 请求取消支持

#### 5.2.3 API模块封装
- [X] 认证模块API
- [X] 订单模块API
- [X] 物料模块API
- [X] 供应商模块API
- [X] 门店模块API
- [X] 购物车模块API
- [X] 支付模块API

---

## 6. 测试与文档

### 6.1 单元测试 🟡

#### 6.1.1 后端单元测试
- [X] 配置Go测试框架
- [X] Service层测试
  - [X] 用户认证Service测试
  - [X] 订单Service测试
  - [X] 加价计算Service测试
  - [X] 支付Service测试
- [X] 工具函数测试
- [X] 目标覆盖率：>80%

#### 6.1.2 前端单元测试
- [X] 配置Vitest测试框架
- [X] 组件测试
- [X] Store测试
- [X] 工具函数测试
- [X] 目标覆盖率：>60%

### 6.2 接口测试 🟡

- [X] 创建Postman测试集合
- [X] 认证接口测试
- [X] 订单接口测试
- [X] 支付接口测试
- [X] 导出API测试文档

### 6.3 E2E测试 🟢

- [X] 配置Playwright/Cypress
- [X] 门店端核心流程测试
- [X] 供应商端核心流程测试
- [X] 管理员端核心流程测试
- [X] 配置CI自动运行E2E测试

### 6.4 组件文档 🟢

- [X] 配置Storybook
- [X] 编写组件文档
- [X] 组件使用示例

---

## 附录

### A. 文件路径约定

| 模块 | 路径 |
|------|------|
| 管理员端Web | `apps/web/src/pages/admin/` |
| 供应商端Web | `apps/web/src/pages/supplier/` |
| 门店端Web | `apps/web/src/pages/store/` |
| 移动端APP | `apps/mobile/src/pages/` |
| 共享UI组件 | `packages/ui/src/` |
| API客户端 | `packages/api-client/src/` |

### B. 开发优先级建议

1. **第一阶段**（核心功能）
   - 管理员端：加价管理、系统设置、管理员管理
   - 供应商端：物料价格管理

2. **第二阶段**（业务完整）
   - 管理员端：配送设置审核、产品审核
   - 供应商端：配送设置、送货单打印

3. **第三阶段**（移动端）
   - 门店端APP完整开发
   - 供应商端APP完整开发

4. **第四阶段**（优化完善）
   - 管理员端：素材库、市场行情、报表
   - 共享包开发
   - 测试与文档

---

> **文档版本**：v1.0
> **创建时间**：2024-12-29
> **最后更新**：2024-12-29
